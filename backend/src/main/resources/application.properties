# Port
server.port=${PORT:8080}
server.forward-headers-strategy=framework

spring.application.name=OptiFi

# --- DataSource ---
spring.datasource.driver-class-name=org.mariadb.jdbc.Driver
spring.datasource.url=${DB_URL:jdbc:mariadb://localhost:3306/optifi?createDatabaseIfNotExist=true}
spring.datasource.username=${DB_USER:root}
spring.datasource.password=${DB_PASS:root}


# --- Hibernate ---
spring.jpa.hibernate.ddl-auto=none
spring.jpa.database-platform=org.hibernate.dialect.MariaDBDialect
spring.jpa.defer-datasource-initialization=true
spring.sql.init.mode=always

# --- JWT ---
jwt.secret=${JWT_SECRET:a9f3c6d1e8b7f2a4c5e9d6b8f1a7c2e4d9b5f8a1c6e7d2b3a4f9c8e5d6}
jwt.expiration=${JWT_EXP_MS:86400000}

# --- CORS ---
app.cors.allowedOrigins=${CORS_ALLOWED_ORIGINS:http://localhost:5173}

server.error.include-stacktrace=never
server.error.include-message=always
server.error.include-exception=true
server.error.include-binding-errors=always

# --- springdoc ---
springdoc.swagger-ui.url=/swagger-resources/openapi.yml

# --- custom flags ---
optifi.features.registration-enabled=true
optifi.features.allow-user-categories=${OPTIFI_FEATURES_ALLOW_USER_CATEGORIES:true}
